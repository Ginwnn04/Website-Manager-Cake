<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quản lý Admin</title>
    <style>
        /* Tổng thể thiết kế */
body {
    font-family: 'Arial', sans-serif;
    background-color: #f5f5f5;
    margin: 0;
    padding: 0;
    color: #333;
}

.container {
    width: 80%;
    margin: 40px auto;
    background-color: #ffffff;
    padding: 30px;
    border-radius: 8px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
}

h3 {
    color: #333;
    font-size: 24px;
    margin-bottom: 20px;
    text-align: center;
}

/* Nút Đăng xuất */
#logoutBtn {
    background-color: #ff4d4d;
    color: white;
    padding: 10px 20px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    font-size: 16px;
    transition: background-color 0.3s;
    float: right;
}

#logoutBtn:hover {
    background-color: #ff1a1a;
}

/* Form thêm sản phẩm */
.product-form {
    display: flex;
    justify-content: center;
    margin-bottom: 20px;
}

.product-form input {
    padding: 10px;
    margin-right: 10px;
    border-radius: 5px;
    border: 1px solid #ddd;
    width: 200px;
}

.product-form button {
    padding: 10px 20px;
    border-radius: 5px;
    background-color: #4CAF50;
    color: white;
    border: none;
    cursor: pointer;
    transition: background-color 0.3s;
}

.product-form button:hover {
    background-color: #45a049;
}

/* Bảng quản lý tài khoản */
table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 20px;
}

table, th, td {
    border: 1px solid #ddd;
    border-radius: 5px;
}

th, td {
    padding: 15px;
    text-align: left;
}

th {
    background-color: #f1f1f1;
    font-weight: bold;
}

td {
    background-color: #ffffff;
}

tr:hover td {
    background-color: #f9f9f9;
}

/* Thao tác sửa/xóa */
.actions button {
    padding: 6px 12px;
    margin-left: 10px;
    border-radius: 5px;
    cursor: pointer;
    border: none;
}

.actions .edit-btn {
    background-color: #ff9800;
    color: white;
}

.actions .edit-btn:hover {
    background-color: #e68900;
}

.actions .delete-btn {
    background-color: #f44336;
    color: white;
}

.actions .delete-btn:hover {
    background-color: #d32f2f;
}

/* Responsive Design */
@media (max-width: 768px) {
    .container {
        width: 90%;
    }

    .product-form input, .product-form button {
        width: 100%;
        margin-bottom: 10px;
    }

    .product-form {
        flex-direction: column;
        align-items: center;
    }

    table {
        font-size: 14px;
    }
}
/* Modal container */
.modal {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.5);
    justify-content: center;
    align-items: center;
}

/* Modal content box */
.modal-content {
    background-color: white;
    padding: 20px;
    border-radius: 5px;
    width: 80%;
    max-width: 500px;
    position: relative;
    text-align: left;
}

/* Close button */
.modal-content .close {
    position: absolute;
    top: 10px;
    right: 20px;
    font-size: 24px;
    cursor: pointer;
}

/* Centered, flexible image grid */
#orderProductsDetail {
    display: flex;
    flex-wrap: wrap;
    justify-content: center; /* Center images horizontally */
    gap: 15px; /* Space between images */
    padding: 10px;
}

#orderProductsDetail img {
    width: 100px; /* Adjust size as needed */
    height: 100px;
    object-fit: cover;
    border-radius: 8px; /* Optional: rounded corners */
}

    </style>
</head>
<body>
    <div class="container">
        <button id="logoutBtn" onclick="logout()">Đăng xuất</button>

        <h3>Quản lý Sản Phẩm</h3>
        <div class="product-form">
            <input type="text" id="productName" placeholder="Tên sản phẩm"><br>
            <input type="number" id="productPrice" placeholder="Giá sản phẩm"><br>
            <button onclick="addProduct()">Thêm sản phẩm</button>
        </div>

        <h3>Quản lý Tài Khoản</h3>
        <table>
            <thead>
                <tr>
                    <th>Họ tên</th>
                    <th>Số điện thoại</th>
                    <th>Mật khẩu</th>
                    <th>Địa chỉ</th>
                    <th>Thao tác</th>
                </tr>
            </thead>
            <tbody id="userList"></tbody>
        </table>

        <h3>Danh sách Sản Phẩm</h3>
        <table>
            <thead>
                <tr>
                    <th>Tên sản phẩm</th>
                    <th>Giá sản phẩm</th>
                    <th>Thao tác</th>
                </tr>
            </thead>
            <tbody id="productList"></tbody>
        </table>
    </div>


    
    <script >
        // Hàm thêm sản phẩm mới vào danh sách sản phẩm
function addProduct() {
    const name = document.getElementById("productName").value;
    const price = document.getElementById("productPrice").value;

    // Kiểm tra thông tin sản phẩm
    if (!name || !price) {
        alert("Vui lòng nhập đầy đủ thông tin sản phẩm!");
        return;
    }

    // Thêm sản phẩm vào localStorage
    const newProduct = { name, price };
    const products = JSON.parse(localStorage.getItem('products')) || [];
    products.push(newProduct);
    localStorage.setItem('products', JSON.stringify(products));

    alert("Sản phẩm đã được thêm!");
    displayProducts(); // Cập nhật danh sách sản phẩm sau khi thêm
}

// Hàm đăng xuất và chuyển hướng
function logout() {
    alert("Đã đăng xuất thành công!");
    window.location.href = 'testweb.html';
}

// Hiển thị danh sách người dùng từ localStorage
function displayUsers() {
    const userList = document.getElementById("userList");
    const users = JSON.parse(localStorage.getItem('users')) || [];

    userList.innerHTML = '';
    users.forEach((user, index) => {
        const row = document.createElement('tr');
        row.innerHTML = `
            <td>${user.fullName}</td>
            <td>${user.phone}</td>
            <td>${user.password}</td>
            <td>${user.address}</td>
            <td class="actions">
                <button onclick="editUser(${index})" class="edit-btn">Sửa</button>
                <button onclick="deleteUser(${index})" class="delete-btn">Xóa</button>
            </td>
        `;
        userList.appendChild(row);
    });
}

// Hàm sửa thông tin người dùng
function editUser(index) {
    const users = JSON.parse(localStorage.getItem('users')) || [];
    const user = users[index];

    // Nhập thông tin mới
    const updatedFullName = prompt("Sửa Họ và tên:", user.fullName);
    const updatedPhone = prompt("Sửa Số điện thoại:", user.phone);
    const updatedPassword = prompt("Sửa Mật khẩu:", user.password);
    const updatedAddress = prompt("Sửa Địa chỉ:", user.address);

    if (updatedFullName && updatedPhone && updatedPassword && updatedAddress) {
        users[index] = { fullName: updatedFullName, phone: updatedPhone, password: updatedPassword, address: updatedAddress };
        localStorage.setItem('users', JSON.stringify(users));
        alert("Thông tin người dùng đã được cập nhật!");
        displayUsers();
    }
}

// Hàm xóa người dùng
function deleteUser(index) {
    const users = JSON.parse(localStorage.getItem('users')) || [];
    users.splice(index, 1);
    localStorage.setItem('users', JSON.stringify(users));
    alert("Người dùng đã bị xóa!");
    displayUsers();
}

// Hiển thị danh sách sản phẩm từ localStorage
function displayProducts() {
    const productList = document.getElementById("productList");
    const products = JSON.parse(localStorage.getItem('products')) || [];

    productList.innerHTML = '';
    products.forEach((product, index) => {
        const row = document.createElement('tr');
        row.innerHTML = `
            <td>${product.name}</td>
            <td>${product.price} VND</td>
            <td class="actions">
                <button onclick="editProduct(${index})" class="edit-btn">Sửa</button>
                <button onclick="deleteProduct(${index})" class="delete-btn">Xóa</button>
            </td>
        `;
        productList.appendChild(row);
    });
}

// Hàm sửa thông tin sản phẩm
function editProduct(index) {
    const products = JSON.parse(localStorage.getItem('products')) || [];
    const product = products[index];

    // Nhập thông tin mới
    const updatedName = prompt("Sửa Tên sản phẩm:", product.name);
    const updatedPrice = prompt("Sửa Giá sản phẩm:", product.price);

    if (updatedName && updatedPrice) {
        products[index] = { name: updatedName, price: updatedPrice };
        localStorage.setItem('products', JSON.stringify(products));
        alert("Thông tin sản phẩm đã được cập nhật!");
        displayProducts();
    }
}

// Hàm xóa sản phẩm
function deleteProduct(index) {
    const products = JSON.parse(localStorage.getItem('products')) || [];
    products.splice(index, 1);
    localStorage.setItem('products', JSON.stringify(products));
    alert("Sản phẩm đã bị xóa!");
    displayProducts();
}



// Tải dữ liệu khi trang được tải
window.onload = function() {
    displayUsers();
    displayProducts();
};

    </script>
</body>
</html>
